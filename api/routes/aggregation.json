[
  {
    "name": "data",
    "view": "AppraisalItemsView",
    "aggregation": [
      {
        "$lookup": {
          "from": "users",
          "localField": "user",
          "foreignField": "_id",
          "as": "username"
        }
      },
      {
        "$addFields": {
          "username": {
            "$first": "$username.username"
          }
        }
      },
      {
        "$lookup": {
          "from": "appraisalperiods",
          "localField": "periodId",
          "foreignField": "_id",
          "as": "periodName"
        }
      },
      {
        "$addFields": {
          "periodName": {
            "$first": "$periodName.name"
          }
        }
      },
      {
        "$match": {
          "username": "Dummy@Katoennatie.com",
          "password": "Dummy Period"
        }
      }
    ]
  }
]
